<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>TextLife</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #e0f7fa, #f1f8e9);
      color: #333;
      padding: 20px;
    }
    h2, h3 {
      color: #2e7d32;
    }
    input, select, button {
      margin: 6px 0;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 1em;
    }
    button {
      background-color: #4caf50;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    button:hover:not(:disabled) {
      background-color: #388e3c;
    }
    button:disabled {
      background-color: #a5d6a7;
      cursor: not-allowed;
    }
    #lifeCenter, #relationshipsList {
      margin-top: 30px;
    }
    #statsDisplay {
      background-color: #e8f5e9;
      padding: 10px;
      border-radius: 10px;
      margin-bottom: 10px;
    }
    #timeline {
      background-color: #ffffff;
      margin-top: 10px;
      max-height: 200px;
      overflow-y: auto;
      border: 1px solid #ccc;
      padding: 10px;
      border-radius: 8px;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
    }
    #questContainer button {
      display: block;
      margin: 6px 0;
      width: 100%;
    }
    #characterCreation {
      background-color: #ffffffcc;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      max-width: 600px;
      margin: auto;
    }
    #lifeCenter button {
      margin-right: 5px;
      margin-bottom: 5px;
    }
    ul {
      list-style: none;
      padding: 0;
    }
    li {
      background: #f9fbe7;
      margin: 5px 0;
      padding: 8px;
      border-radius: 5px;
    }
  </style>
</head>
<body>
  <div id="characterCreation">
    <h2>Willkommen bei TextLife</h2>
    <label>Name: <input type="text" id="name" /></label><br>
    <label>Alter: <input type="number" id="age" value="0" min="0" max="100" /></label><br>
    <label>Geschlecht:
      <select id="gender">
        <option value="m">Männlich</option>
        <option value="w">Weiblich</option>
        <option value="d">Divers</option>
      </select>
    </label><br>
    <button onclick="startGame()">Spiel starten</button>
  </div>

  <div id="game" style="display:none">
    <h2>Leben von <span id="charName"></span></h2>
    <div id="statsDisplay">
      <p>Alter: <span id="charAge"></span></p>
      <p>Geschlecht: <span id="charGender"></span></p>
    </div>

    <div id="lifeCenter">
      <h3>Aktionen</h3>
      <button onclick="doAgeUp()">Älter werden</button>
      <button id="schoolBtn" onclick="doSchool()">Ausbildung</button>
      <button id="workBtn" onclick="doWork()">Arbeit</button>
    </div>

    <div id="questContainer">
      <h3>Ereignis</h3>
      <p id="questText">—</p>
      <div id="questChoices"></div>
    </div>

    <h3>Lebenslauf</h3>
    <div id="timeline"></div>
  </div>

  <script>
    let character = { name: '', age: 0, gender: '', timeline: [] };

    function startGame() {
      character.name = document.getElementById('name').value;
      character.age = parseInt(document.getElementById('age').value);
      character.gender = document.getElementById('gender').value;
      character.timeline.push(`Du wurdest geboren als ${character.name}.`);
      updateUI();
      document.getElementById('characterCreation').style.display = 'none';
      document.getElementById('game').style.display = 'block';
    }

    function updateUI() {
      document.getElementById('charName').innerText = character.name;
      document.getElementById('charAge').innerText = character.age;
      document.getElementById('charGender').innerText = character.gender;
      document.getElementById('timeline').innerHTML = character.timeline.map(t => `<p>${t}</p>`).join('');

      document.getElementById('schoolBtn').disabled = character.age < 6;
      document.getElementById('workBtn').disabled = character.age < 16;
    }

    function doAgeUp() {
      character.age++;
      character.timeline.push(`Du bist jetzt ${character.age} Jahre alt.`);
      updateUI();
      generateQuest();
    }

    function doSchool() {
      character.timeline.push("Du gehst zur Schule oder Ausbildung.");
      updateUI();
    }

    function doWork() {
      character.timeline.push("Du arbeitest.");
      updateUI();
    }

    function generateQuest() {
      const quests = [
        {
          text: "Ein Kind auf dem Spielplatz fragt, ob du mitspielen willst. Was tust du?",
          choices: ["Mitspielen", "Ablehnen"]
        },
        {
          text: "Du findest 10€. Was machst du?",
          choices: ["Behalten", "Abgeben"]
        },
        {
          text: "Ein Freund möchte, dass du bei einem Streich mitmachst. Was machst du?",
          choices: ["Mitmachen", "Nein sagen"]
        }
      ];
      const quest = quests[Math.floor(Math.random() * quests.length)];
      document.getElementById('questText').innerText = quest.text;
      const choiceDiv = document.getElementById('questChoices');
      choiceDiv.innerHTML = '';
      quest.choices.forEach(choice => {
        const btn = document.createElement('button');
        btn.innerText = choice;
        btn.onclick = () => {
          character.timeline.push(`Entscheidung: ${choice}.`);
          document.getElementById('questText').innerText = '—';
          choiceDiv.innerHTML = '';
          updateUI();
        };
        choiceDiv.appendChild(btn);
      });
    }
  </script>
</body>
</html>